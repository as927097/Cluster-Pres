<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Categorical Analysis and Clustering</title>
    <meta charset="utf-8" />
    <meta name="author" content="Angelo Saporito" />
    <meta name="date" content="2024-02-16" />
    <script src="index_files/header-attrs/header-attrs.js"></script>
    <script src="index_files/htmlwidgets/htmlwidgets.js"></script>
    <link href="index_files/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="index_files/datatables-binding/datatables.js"></script>
    <script src="index_files/jquery/jquery-3.6.0.min.js"></script>
    <link href="index_files/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="index_files/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="index_files/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="index_files/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="index_files/crosstalk/js/crosstalk.min.js"></script>
    <script src="index_files/kePrint/kePrint.js"></script>
    <link href="index_files/lightable/lightable.css" rel="stylesheet" />
    <script src="index_files/plotly-binding/plotly.js"></script>
    <script src="index_files/typedarray/typedarray.min.js"></script>
    <link href="index_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="index_files/plotly-main/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Categorical Analysis and Clustering
]
.subtitle[
## Case Study: Expatriated U.S. Veterans
]
.author[
### Angelo Saporito
]
.date[
### 2024-02-16
]

---






class:inverse4, top

&lt;h1 align="center"&gt; Overview&lt;/h1&gt;

.pull-left[
- Agenda and Contents

   - Gain a sense of familiarity with the data by analyzing its structure and nuances
   - Analyze the research questions presented using various similarity and dissimilarity measures
      - Chi-Squared test and `\(\phi\)`-coefficient
      
    - Use multiple unsupervised machine learning algorithms to cluster the data:
      - K-modes clustering for categorical data
      - Multiple Correspondence Analysis (MCA) 
          - Analysis of dimensions and components
          - Individual clustering 
]

.pull-right[
- We are researching various characteristics of U.S. veterans living abroad. Some research questions include:

   - Is there a relationship between why an expatriated veteran moved abroad and why they might repatriate?
   
   - Is there a relationship between why a veteran might repatriate and where/how they access medical care? And their employment status?
   
   - Is there a relationship between why a veteran expatriated and their first year of active service?
   
   - Is there a relationship between where they veteran expatriated to (location) and their age/first year of active service?
]

---

class: inverse1

&lt;h1 align="center"&gt; Data Exploration&lt;/h1&gt;


<div class="datatables html-widget html-fill-item" id="htmlwidget-45d9ca2b2ac4872687b4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-45d9ca2b2ac4872687b4">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["0","0","0","1","0","0","0"],["0","0","0","1","0","0","0"],["0","0","0","1","0","0","0"],["0","0","0","1","0","0","0"],["0","1","0","0","0","0","0"],["2000-09","1970-79","1980-89","1970-79","1970-79","PNTA","PNTA"],["E","E","E","E","E","PNTA","PNTA"],["New Zealand","Oman","Philippines","Finland","Germany","PNTA","PNTA"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Whyab01<\/th>\n      <th>Whyab02<\/th>\n      <th>Whyab03<\/th>\n      <th>Retus01<\/th>\n      <th>Retus02<\/th>\n      <th>dec_first_enlist<\/th>\n      <th>Rank<\/th>\n      <th>Locate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"name":"Whyab01","targets":0},{"name":"Whyab02","targets":1},{"name":"Whyab03","targets":2},{"name":"Retus01","targets":3},{"name":"Retus02","targets":4},{"name":"dec_first_enlist","targets":5},{"name":"Rank","targets":6},{"name":"Locate","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

- This is a subset of our data. Our full dataset contains 160 observations and 39 variables ranging from demographic data, socioeconomic data, data on reason for expatriation and (possible) repatriation, medical access data, VA benefit data, etc.

- We will explore the relationship between a specific subset of data within the next sections.
---

class: inverse1

&lt;h2 align="center"&gt; Research Question and Methods of Analysis&lt;/h2&gt;

#### Relationship between *expatriation* and *repatriation*?

- We are interested in the first research question: is there a relationship between why a veteran moved abroad *vis-à-vis* why they may repatriate to the U.S.
    - If there is a relationship between specific variables, there may be a story to be told, i.e., if there is a relationship between expatriating due to financial burden and repatriating due to medical care.
    
#### We will test the relationship using two different methods:

.pull-left[
1. Chi-Squared test: a statistical test used to determine whether there is a significant association between two categorical variables.

    - `\(\chi^2 = \sum \frac{(O_i-E_i)^2}{E_i}\)`, where `\(O_i=\)` observed value and `\(E_i=\)` expected value.
]

.pull-right[
1. `\(\phi\)`-coefficient: a measure of association between two binary variables in a contingency table.

    - `\(\phi = \frac{(AD-BC)}{\sqrt{(A+B)(C+D)(A+C)(B+D)}}\)`, 
    
    where A,B,C,D are the frequencies of the four possible outcomes in a 2×2 contingency table.

]

---

class: inverse1

&lt;h2 align="center"&gt; Test Output and Analysis: Chi-Squared Test&lt;/h2&gt;

.pull-center[
&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus01 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus02 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus03 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus04 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus05 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus06 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus07 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab01 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7082941 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1079346 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2751144 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9511464 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.8292729 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0601336 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0341690 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab02 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0263885 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9070845 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.8616097 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0832410 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7565657 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0933546 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4928439 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab03 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.6915149 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9137980 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4119961 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1726708 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4778591 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab04 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4001912 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.3091081 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7041108 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.8776752 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1631868 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab05 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5758281 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5539428 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7402693 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5766460 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1689887 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0198734 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.6019206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab06 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4439387 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5763638 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9381726 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4948278 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-left[
#### Interpretation of Significant Results
- Whyab02 ("I have closer personal ties") and Retus01 ("Family ties"): This result suggests that individuals who originally expatriated from the US due to having closer personal ties are more likely to consider returning because of family ties.

- Whyab01 ("I have closer business ties") and Retus07 ("Nothing"): This result suggests that individuals who
]

.pull-right[
- initially left the US due to business-related reasons might not find compelling reasons to return, indicating that their current situation is satisfactory enough to deter any desire to return to the US.

- Whyab05 ("To avoid the politics of the US") and Retus06 ("Patriotism"): This finding suggests that some individuals who left the US to avoid political and policy-related reasons might consider returning due to a sense of patriotism. 
]

---
class: inverse1

&lt;h2 align="center"&gt; Test Output and Analysis: `\(\phi\)`-coefficient&lt;/h2&gt;
.pull-center[
&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus01 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus02 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus03 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus04 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus05 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus06 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Retus07 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab01 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0659839 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1887060 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2013191 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0435924 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0852369 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1952357 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2036533 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab02 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1929868 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0387546 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0689082 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1555094 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0571834 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1549963 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0715660 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab03 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0494244 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0095496 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0656102 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0840742 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0185997 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1309301 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0740661 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab04 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0823445 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1072113 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0800641 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0237289 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0324486 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1259882 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab05 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0580538 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0701862 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0698857 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0588490 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1346301 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2018044 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0549857 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Whyab06 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0079803 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0189103 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1008713 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0577600 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0119583 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0224847 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0666667 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-left[
#### Phi-coefficient Interpretation

The phi coefficient, also known as the phi correlation coefficient, measures the association between two binary variables. It ranges from -1 to 1, where:
 - 1: both variables are perfectly related and move in the same direction.
 - 0: the variables are independent of each other.
 - -1: both variables are perfectly related but move in opposite directions.
]

.pull-right[

1. There is approximately a 19 percent correlation between expatriating due to personal ties and repatriating due to familial ties.

2. There is approximately a 19.5 percent correlation between expatriating due to business ties and possessing no reasons to repatriate.

3. There is approximately a 20 percent correlation between expatriating to avoid U.S. politics and repatriating due to patriotism.
]

---
class: inverse1
&lt;h2 align="center"&gt;K-Modes Clustering&lt;/h2&gt;
.pull-left[


&lt;img src="index_files/figure-html/unnamed-chunk-5-1.png" width="100%" /&gt;
- Unlike k-means, which calculates cluster centers as the mean of numeric attributes, k-modes uses modes (most frequent values) for categorical attributes.
- It assigns each data point to the cluster whose mode is most similar to it with the goal to minimize the dissimilarity within clusters.
]

.pull-right[
Let's denote:
- `\(X=\{x_1, x_2,...,x_n\}\)` as the dataset, where each `\(x_i\)` is a categorical data point with `\(m\)` dimensions.
- `\(C=\{c_1,c_2,...,c_k\}\)` as the set of cluster modes, where `\(c_j\)` represents the most frequent category (mode) of cluster `\(j\)`.

The k-modes algorithm:
1. Initialize `\(k\)` cluster modes `\(c_1, c_2,..., c_k\)`
  based on the dissimilarity measure.
2. Assign each `\(x_i\)` to the nearest cluster mode `\(c_j\)` based on the dissimilarity (distance) measure.
3. Update each cluster mode `\(c_j\)` by selecting the mode of the data points assigned to cluster `\(j\)`.
4. Repeat the assignment and update steps until convergence criteria are met.
]

---
class: inverse1
&lt;h2 align="center"&gt;Multiple Correspondence Analysis (MCA)&lt;/h2&gt;

.pull-left[


<div class="plotly html-widget html-fill-item" id="htmlwidget-83972598c58a5efe83dd" style="width:100%;height:70%;"></div>
<script type="application/json" data-for="htmlwidget-83972598c58a5efe83dd">{"x":{"visdat":{"283c06935":["function () ","plotlyVisDat"]},"cur_data":"283c06935","attrs":{"283c06935":{"x":{},"y":{},"text":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],"mode":"markers","opacity":[0.805005277928999,0.128020267951626,0.76973285752111,0.11203516718209,0.818692100796848,0.026595875811526,0.0450584485073931,0.0131460936919165,0.0347126115558384,0.149307117886508,0.0518796117089639,0.0615825941900423,0.0374385397707376,0.0237325840176008,0.722593225404068,0.811381107747001,0.825160445370069,0.0912346548443334,0.199942714165743,0.00514289726968815,0.0716633503999984,0.788827922762011,0.124394999034252,0.11874267580508,0.0572749404910135,0.515985378306943,0.0710734584247803,0.0149176334936399,0.0862670931888372,0.196665024026806,0.0101032604432511,0.00442341615764209,0.135589585218018,0.105232804210705,0.054249861046402,0.0459047294332992,0.00674581569221184,0.00550272869941066,0.00561339612388984,0.0135412580828504,0.00729055634508259,0.027051091048279,0.0203145160502679,0.0211981565615791,0.0349222880603451,0.028925129071246,0.109917076423849,0.0204459942651983,0.124187384785896,0.0260992865725638,0.022988189772324,0.0435946885408147,0.169505102364998,0.0100034441683652,0.0321625168340743,0.0123768226061977,0.0100908822832958,0.0409634846496758,0.11096061029019,0.00421608013789167,0.0697262880893111,0.0244116174700438,0.0121711943060807,0.182893099482527,0.0158354980688448,0.0306652058414358,0.0555640774634709,0.0673146409418548,0.0228968791521379,0.191319753398513,0.00920406417524434,0.00425412598377788,0.358596582382568,0.0189074246313585,0.0224302876349407,0.197075929912692,0.0096191341860804,0.0341596076367823,0.0411178732165463,0.0106012647877986,0.0252565879227048,0.0377594893433943,0.0169020224628077,0.0222118077783114,0.0617656366924987,0.288099544360941,0.195411633933462,0.204660179753057,0.109155649723294,0.0351762855933154,0.0329075646578502,0.0324483456917576,0.235067622502488,0.0443112214491238,0.0366357781087789,0.124648280773461,0.0695596330631068,0.136765964833936,0.0642308069256692,0.00989527824548499,0.125616811977153,0.0138317188172429,0.257499456852871,0.0671231140796054,0.103304051905221,0.0387896479513941,0.0758890890041645,0.28119853611784,0.16883086215476,0.0629238812573203,0.362457782935569,0.0493270509745499,0.474076247502106,0.182633552793867,0.142180697225315,0.582338552850913,0.200141122234064,0.656169899064346,0.0785767397080289,0.0378732530189146,0.0124306386306369,0.0441297149752309,0.0505507027432087,0.0412531364616812,0.0915203361766981,0.0472742255690165,0.0139325046001964,0.0747577394954167,0.00555191908254143,0.0253449665568279,0.0820767376047342,0.195469743625882,0.0259250922123734,0.10791457081697,0.0129699188386795,0.0701569115313763,0.0487027525785933,0.00819737802800559,0.544249692243458,0.0474938108601165,0.149978032546017,0.0515701764604336,0.129264010476918,0.135296463887964,0.0115155098760671,0.109817802780406,0.116000226544646,0.0933399106401704,0.0893215421148925,0.0489996936133369,0.158891061642537,0.237030690618259,0.143420251627942,0.0841834913000528,0.107236077065514,0.0697249719980271,0.618665596979498,0.00754703122226448,0.00780871559859436,0.494752152027213],"color":{},"colors":["#8BBDD9","#5BA4CF","#298FCA","#0079BF","#026AA7"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Individuals - MCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Component 1 (8.9%)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Component 2 (4.6%)"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1.44926512311104,-0.196763862813344,1.44354768803255,-0.186372294033599,1.44791383016425,-0.145293181257663,0.106447630688933,-0.0232647179995554,-0.12248639853896,-0.172370843620594,-0.00487970459386432,-0.106380142161501,-0.36587094792178,-0.0474903748239969,1.28668345549475,1.45008981768995,1.44873852474314,0.0222358054999332,-0.189675968762967,-0.149713099050546,-0.227520137089517,1.46102628068468,-0.086278049374073,-0.179450854305164,-0.236241007750938,1.13297817791414,0.0777579681746545,-0.191312922119162,-0.133918560477552,-0.178018512417749,-0.0438414228389673,0.0899182926353242,-0.105065198533578,0.042747309317414,0.360049695390383,0.0537326314210688,-0.151475726997672,-0.0733726911474444,-0.074295829399529,-0.147701946230483,-0.128875857883697,0.0167686526219703,-0.0920307304379108,-0.178799343209208,-0.146399567809911,-0.242756328947756,-0.208021599064667,-0.108912559052499,-0.12317231827764,-0.098956229327367,-0.128793673990876,-0.0514587909890766,-0.224156265992462,-0.0264301849115799,-0.0579843406136655,0.075678545905199,0.0873163023481431,-0.0189546245039549,0.358157719394493,0.0739917996968655,0.0920962245565496,-0.148373194721909,0.0424261029634753,-0.189312688341528,-0.0270467370975023,-0.0179333976835638,-0.01884613556693,0.27754656627988,0.0703312288353674,-0.0844146128411707,-0.110325895875936,-0.0189573444098995,-0.358849888307235,0.151451788301984,-0.0247510381367622,-0.25067442924295,-0.14158165762414,-0.262259233020854,-0.0870543357996055,-0.181877590731574,-0.244744416598549,-0.140106344311148,0.0619091286654802,-0.245796338812516,-0.248125105153102,-0.349734847394767,-0.103392642329302,-0.254295769696073,-0.30319126716695,-0.159383718944896,0.221028180192835,-0.174084159802717,-0.35392558406047,-0.167433155352806,0.0260792820579587,-0.245030113579982,-0.223417965275783,-0.194751611638482,-0.163089068207605,-0.0839971066823893,-0.268761821240581,-0.00248196764570429,0.832154831789111,-0.216251275324013,-0.196706911270917,-0.0812378606559659,-0.195014221371684,-0.296917593297595,-0.338413053911807,-0.134312311236224,-0.354145212362358,-0.192297336435975,1.20480683202483,-0.202675042193234,-0.353328054840766,1.11455365151437,-0.302349383396306,1.35408216944036,-0.374578113019344,-0.241496693807492,-0.154131698778198,-0.179909347797636,-0.226042398781308,-0.217411424386796,-0.249539848380617,-0.258776757379083,-0.191120085348897,-0.269891107981116,-0.0533217049603839,-0.168383794355451,-0.303379043723482,-0.380885642067822,-0.166113478031602,-0.0537696896793577,-0.220926054063285,-0.294171722611294,-0.138917552118214,-0.0214052474297151,1.15597579142965,0.1475743713436,0.932736660008692,-0.0432309008811802,-0.21818962739862,-0.345912861692436,-0.218782271708074,-0.301120670996974,-0.28212161344834,-0.250745446374575,-0.234436740338818,-0.251141541132121,-0.320909778667817,-0.270802083481041,-0.381498649104995,-0.309585082601682,-0.382465906495582,-0.336869054569636,1.15776429071061,-0.070308745184035,0.040978053051796,1.10015822354627],"y":[-0.0429775897791897,0.74481421335531,-0.0541302256195613,0.678683887370907,-0.0389776153771872,0.0161028776341521,0.249253640582394,0.172463890070665,0.260291350872586,1.08077459216827,0.51817239327036,0.321405724701739,0.330167063012243,0.174495673350333,-0.0958427817927541,-0.0744217592122377,-0.0704217848102265,0.768344899610185,0.953021658575259,0.0413146155745404,-0.0314613587852578,-0.0349493156855409,0.457924462196704,0.590923315318153,0.285377962328833,0.170587500774509,0.622604439474607,-0.0721564167980569,0.45161218539501,0.938395580778909,-0.155558112691973,0.0727926247058171,0.536650790708438,0.456786813366783,-0.0387360446336228,-0.256762535370566,-0.0922170673543087,0.0733489135865538,0.053902560770896,0.0908043369745221,0.110840840822409,0.417729844874004,0.17166359637921,0.0379284546726588,0.170626565419011,-0.0243838333970323,0.645215215286536,0.0911510947189502,0.365718113475639,0.197480640079693,0.0972601211488176,0.296812470650995,1.06009520721164,-0.170778053508404,-0.290521744621013,-0.0893545182011087,0.0169822728584689,-0.25275600952383,-0.121819446225437,0.0241018249065756,0.466811728226353,0.0175268386045831,0.117066247417491,-0.73783347989107,-0.126066680248066,-0.184974529895266,-0.21926845973586,-0.276195176486886,-0.125346415365232,-0.410578246568596,-0.00377231706532252,-0.0903042872534698,-0.482338052705724,0.0366374532278407,-0.276435670378747,-0.346121020456293,-0.00983664714948003,-0.116021532236365,-0.219689304295082,0.0790607154504912,-0.0842799039282888,-0.0819709477546081,0.205028520547199,-0.0236654363140712,-0.345434321925321,-0.431070826308846,-0.41075171789389,-0.658051668162356,-0.189284026863082,-0.133465362455992,-0.00883932131741146,-0.0260791218005742,-0.360024272508438,-0.0961325176107796,-0.201329110028203,-0.215699915309248,0.185790026547531,-0.220385244238287,-0.145042790466197,-0.017906478176699,-0.27263742172284,-0.149242228734227,-0.148003112222127,-0.165659936574916,-0.186526633654392,-0.314255401383667,-0.215727189058834,-0.355308681705814,-0.324513312834825,-0.231244535525729,-0.447878479393763,0.320125680172273,-0.114896620343128,-0.292619384412255,-0.511089396062621,-0.222391123904917,-0.356692422945461,-0.229159741842043,-0.240464226974174,0.233407810967053,-0.0480771888775295,-0.0736837579135456,-0.192511277831379,-0.0616734599190285,-0.152620740090773,-0.0200025288431308,-0.0616763366780005,-0.106262196854998,-0.0543542770455916,-0.0129808575534658,0.240106737943911,-0.312017667733787,0.0863649681506528,0.554182623560305,-0.0111346293235534,-0.206621177898002,0.244853608987183,0.0765854395007128,-0.0741748233111757,0.674405078838042,-0.0335819174224937,0.302142735759094,-0.377162446648371,-0.273534563490704,-0.194058448234616,-0.144026392428295,-0.244247165774958,-0.19018142906338,-0.208005772788921,-0.0502577346852343,-0.310177632068571,-0.391277314389332,-0.277699934093412,-0.138446474449409,-0.28856522577802,0.115066677353273,-0.0902496875012676,-0.0676264028944192,0.0817682705725939,-0.123935063797706],"text":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],"mode":"markers","opacity":[0.805005277928999,0.128020267951626,0.76973285752111,0.11203516718209,0.818692100796848,0.026595875811526,0.0450584485073931,0.0131460936919165,0.0347126115558384,0.149307117886508,0.0518796117089639,0.0615825941900423,0.0374385397707376,0.0237325840176008,0.722593225404068,0.811381107747001,0.825160445370069,0.0912346548443334,0.199942714165743,0.00514289726968815,0.0716633503999984,0.788827922762011,0.124394999034252,0.11874267580508,0.0572749404910135,0.515985378306943,0.0710734584247803,0.0149176334936399,0.0862670931888372,0.196665024026806,0.0101032604432511,0.00442341615764209,0.135589585218018,0.105232804210705,0.054249861046402,0.0459047294332992,0.00674581569221184,0.00550272869941066,0.00561339612388984,0.0135412580828504,0.00729055634508259,0.027051091048279,0.0203145160502679,0.0211981565615791,0.0349222880603451,0.028925129071246,0.109917076423849,0.0204459942651983,0.124187384785896,0.0260992865725638,0.022988189772324,0.0435946885408147,0.169505102364998,0.0100034441683652,0.0321625168340743,0.0123768226061977,0.0100908822832958,0.0409634846496758,0.11096061029019,0.00421608013789167,0.0697262880893111,0.0244116174700438,0.0121711943060807,0.182893099482527,0.0158354980688448,0.0306652058414358,0.0555640774634709,0.0673146409418548,0.0228968791521379,0.191319753398513,0.00920406417524434,0.00425412598377788,0.358596582382568,0.0189074246313585,0.0224302876349407,0.197075929912692,0.0096191341860804,0.0341596076367823,0.0411178732165463,0.0106012647877986,0.0252565879227048,0.0377594893433943,0.0169020224628077,0.0222118077783114,0.0617656366924987,0.288099544360941,0.195411633933462,0.204660179753057,0.109155649723294,0.0351762855933154,0.0329075646578502,0.0324483456917576,0.235067622502488,0.0443112214491238,0.0366357781087789,0.124648280773461,0.0695596330631068,0.136765964833936,0.0642308069256692,0.00989527824548499,0.125616811977153,0.0138317188172429,0.257499456852871,0.0671231140796054,0.103304051905221,0.0387896479513941,0.0758890890041645,0.28119853611784,0.16883086215476,0.0629238812573203,0.362457782935569,0.0493270509745499,0.474076247502106,0.182633552793867,0.142180697225315,0.582338552850913,0.200141122234064,0.656169899064346,0.0785767397080289,0.0378732530189146,0.0124306386306369,0.0441297149752309,0.0505507027432087,0.0412531364616812,0.0915203361766981,0.0472742255690165,0.0139325046001964,0.0747577394954167,0.00555191908254143,0.0253449665568279,0.0820767376047342,0.195469743625882,0.0259250922123734,0.10791457081697,0.0129699188386795,0.0701569115313763,0.0487027525785933,0.00819737802800559,0.544249692243458,0.0474938108601165,0.149978032546017,0.0515701764604336,0.129264010476918,0.135296463887964,0.0115155098760671,0.109817802780406,0.116000226544646,0.0933399106401704,0.0893215421148925,0.0489996936133369,0.158891061642537,0.237030690618259,0.143420251627942,0.0841834913000528,0.107236077065514,0.0697249719980271,0.618665596979498,0.00754703122226448,0.00780871559859436,0.494752152027213],"type":"scatter","marker":{"colorbar":{"title":"cos2","ticklen":2},"cmin":1,"cmax":5,"colorscale":[["0","rgba(139,189,217,1)"],["0.0416666666666667","rgba(132,185,215,1)"],["0.0833333333333333","rgba(124,181,214,1)"],["0.125","rgba(116,176,212,1)"],["0.166666666666667","rgba(108,172,210,1)"],["0.208333333333333","rgba(100,168,209,1)"],["0.25","rgba(91,164,207,1)"],["0.291666666666667","rgba(84,160,206,1)"],["0.333333333333333","rgba(77,157,205,1)"],["0.375","rgba(70,153,205,1)"],["0.416666666666667","rgba(62,150,204,1)"],["0.458333333333333","rgba(52,146,203,1)"],["0.5","rgba(41,143,202,1)"],["0.541666666666667","rgba(37,139,200,1)"],["0.583333333333333","rgba(32,136,198,1)"],["0.625","rgba(27,132,197,1)"],["0.666666666666667","rgba(20,128,195,1)"],["0.708333333333333","rgba(11,125,193,1)"],["0.75","rgba(0,121,191,1)"],["0.791666666666667","rgba(0,118,187,1)"],["0.833333333333333","rgba(1,116,183,1)"],["0.875","rgba(1,113,179,1)"],["0.916666666666667","rgba(1,111,175,1)"],["0.958333333333333","rgba(2,108,171,1)"],["1","rgba(2,106,167,1)"]],"showscale":false,"color":[5,1,5,1,5,1,1,1,1,1,1,1,1,1,5,5,5,1,2,1,1,5,1,1,1,4,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,3,1,1,2,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,2,1,3,1,3,2,1,4,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,4,1,1,3],"line":{"colorbar":{"title":"","ticklen":2},"cmin":1,"cmax":5,"colorscale":[["0","rgba(139,189,217,1)"],["0.0416666666666667","rgba(132,185,215,1)"],["0.0833333333333333","rgba(124,181,214,1)"],["0.125","rgba(116,176,212,1)"],["0.166666666666667","rgba(108,172,210,1)"],["0.208333333333333","rgba(100,168,209,1)"],["0.25","rgba(91,164,207,1)"],["0.291666666666667","rgba(84,160,206,1)"],["0.333333333333333","rgba(77,157,205,1)"],["0.375","rgba(70,153,205,1)"],["0.416666666666667","rgba(62,150,204,1)"],["0.458333333333333","rgba(52,146,203,1)"],["0.5","rgba(41,143,202,1)"],["0.541666666666667","rgba(37,139,200,1)"],["0.583333333333333","rgba(32,136,198,1)"],["0.625","rgba(27,132,197,1)"],["0.666666666666667","rgba(20,128,195,1)"],["0.708333333333333","rgba(11,125,193,1)"],["0.75","rgba(0,121,191,1)"],["0.791666666666667","rgba(0,118,187,1)"],["0.833333333333333","rgba(1,116,183,1)"],["0.875","rgba(1,113,179,1)"],["0.916666666666667","rgba(1,111,175,1)"],["0.958333333333333","rgba(2,108,171,1)"],["1","rgba(2,106,167,1)"]],"showscale":false,"color":[5,1,5,1,5,1,1,1,1,1,1,1,1,1,5,5,5,1,2,1,1,5,1,1,1,4,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,3,1,1,2,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,2,1,3,1,3,2,1,4,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,4,1,1,3]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[-0.382465906495582,1.46102628068468],"y":[-0.73783347989107,1.08077459216827],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"cos2","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":1,"cmax":5,"colorscale":[["0","rgba(139,189,217,1)"],["0.0416666666666667","rgba(132,185,215,1)"],["0.0833333333333333","rgba(124,181,214,1)"],["0.125","rgba(116,176,212,1)"],["0.166666666666667","rgba(108,172,210,1)"],["0.208333333333333","rgba(100,168,209,1)"],["0.25","rgba(91,164,207,1)"],["0.291666666666667","rgba(84,160,206,1)"],["0.333333333333333","rgba(77,157,205,1)"],["0.375","rgba(70,153,205,1)"],["0.416666666666667","rgba(62,150,204,1)"],["0.458333333333333","rgba(52,146,203,1)"],["0.5","rgba(41,143,202,1)"],["0.541666666666667","rgba(37,139,200,1)"],["0.583333333333333","rgba(32,136,198,1)"],["0.625","rgba(27,132,197,1)"],["0.666666666666667","rgba(20,128,195,1)"],["0.708333333333333","rgba(11,125,193,1)"],["0.75","rgba(0,121,191,1)"],["0.791666666666667","rgba(0,118,187,1)"],["0.833333333333333","rgba(1,116,183,1)"],["0.875","rgba(1,113,179,1)"],["0.916666666666667","rgba(1,111,175,1)"],["0.958333333333333","rgba(2,108,171,1)"],["1","rgba(2,106,167,1)"]],"showscale":true,"color":[1,5],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]

.pull-right[
- MCA takes a dataset consisting of categorical variables and represents it in a lower-dimensional space.

- MCA provides insights into the relationships between categories of different variables and identifies patterns of association between categories. 

- cos2 (Squared Cosine) is a measure of the quality of representation of categories on the dimensions obtained from MCA (this is our *coloring* or *gradient*).

- cos2 values range between 0 and 1, where 0 indicates that the category is poorly represented on the dimension, and 1 indicates perfect representation.
    - Higher values of cos2 indicate that the category is well-represented on the dimension and contributes more to the variability explained by that dimension.
]

---
class: inverse1
&lt;h2 align="center"&gt;Components: K-Modes and MCA&lt;/h2&gt;

.pull-left[
&lt;img src="index_files/figure-html/unnamed-chunk-8-1.png" width="80%" height="80%" /&gt;
]

.pull-right[
#### Explanation of Components

- MCA, similar to K-Modes, constructs a set of synthetic variables, called dimensions or components, which capture the underlying structure of the categorical data.

- Components in MCA are constructed based on the association between categories of different variables. These components are linear combinations of the original variables and represent patterns of association in the data.

- In our case, 8.9% of the variability in the whole dataset is explained by Component 1, 4.6% in Component 2, and 13.5% woth Components 1 and 2.
]

---
class: inverse1
&lt;h2 align="center"&gt;References&lt;/h2&gt;

- [Husson, F., Josse, J., &amp; Mazet, J. (n.d.). MCA: Multiple Correspondence Analysis (MCA). RDocumentation. https://www.rdocumentation.org/packages/FactoMineR/versions/2.9/topics/MCA](https://www.rdocumentation.org/packages/FactoMineR/versions/2.9/topics/MCA) 

- [Huang, Z. (1997) A Fast Clustering Algorithm to Cluster Very Large Categorical Data Sets in Data Mining. in KDD: Techniques and Applications (H. Lu, H. Motoda and H. Luu, Eds.), pp. 21-34, World Scientific, Singapore.](https://vladestivill-castro.net/teaching/kdd.d/readings.d/huang97fast.pdf)

- [Kassambara. (2017, September 24). MCA - multiple correspondence analysis in R: Essentials. STHDA. http://sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/114-mca-multiple-correspondence-analysis-in-r-essentials](http://sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/114-mca-multiple-correspondence-analysis-in-r-essentials)

- [Neumann, C., &amp; Szepannek, G. K-modes clustering. RDocumentation. https://search.r-project.org/CRAN/refmans/klaR/html/kmodes.html](https://search.r-project.org/CRAN/refmans/klaR/html/kmodes.html)

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
